\section{Instructions}

\subsection{The FAIL Region}

\subsection{The Stack}

\subsection{Instruction Breakdown}

\subsubsection{Any}

\begin{itemize}
\item Set the failure region to 'JUMP FAIL'
\item Is the input pointer less than the input length (otherwise FAIL)?
\item Move the input pointer one up
\end{itemize}

\subsubsection{Char n}

\begin{itemize}
\item Set the failure region to 'JUMP FAIL'
\item Is the input pointer less than the input length (otherwise FAIL)?
\item Is the input character equal to \textit{n} (otherwise FAIL)?
\item Move the input pointer one up
\end{itemize}

\subsubsection{Span $<$set$>$}

\subsubsection{Set $<$set$>$}

\subsubsection{Jump $<$label$>$}

\begin{itemize}
\item As is, this instruction won't be broken down any further.
\end{itemize}

\subsubsection{Choice $<$label$>$}

\begin{itemize}
\item Push the input pointer
\item Push the action list length
\item Push the resolved address from $<$label$>$
\item Push a stack element type signifier (if you want a stack guard)
\end{itemize}

\subsubsection{Call $<$label$>$}

\begin{itemize}
\item Push the return address (the address of this instruction + its length)
\item Push a stack element type signifier (if you want a stack guard)
\end{itemize}

\subsubsection{Return}

\begin{itemize}
\item Pop a stack element (if you guard your stack, this must be of type 'Call')
\item Pop an address
\item Jump to the address
\end{itemize}

\subsubsection{Commit $<$label$>$}

\begin{itemize}
\item Pop a 'choice' element off the stack (must be the top element).
\item Pop and discard
\item Pop and discard
\item Pop and discard
\item Jump to $<$label$>$
\end{itemize}

\subsubsection{Fail}

\begin{itemize}
\item Jump to the special 'FAIL' label
\end{itemize}

\subsubsection{Failtwice}

\subsubsection{Partialcommit}

\subsubsection{Backcommit}
