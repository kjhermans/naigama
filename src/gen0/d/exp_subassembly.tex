\section{Sub Assembly}

The idea is that the 

\subsection{Memory Model}

Four long stretches:

code
input
stack
actionlist

registers
- codeptr (params are just pointers to quads after the codeptr) quad
- codelen quad
- inputpos quad
- inputlen quad
- actionlen quad
- stacklen quad
- fail 2 quads (executed when a comparison fails)
- reg0 (contains end code)
- registers (are just pointers to quads after reg0, max 4)


\begin{verbatim}

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       |       |       |       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

\end{verbatim}

Instructions:

JUMP codepos
JUMPREF register
POP register
PUSH register
PUSHLIT literal
ASSIGN memory, memory
INC memory, memory
FAIL opcode, param
LT memory, memory
CMP memory, memory
